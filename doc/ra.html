<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Module ra</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module ra</h1>
<ul class="index"><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>


<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-ra_cmd_ret">ra_cmd_ret()</a></h3>
<p><tt>ra_cmd_ret() = <a href="ra_node_proc.html#type-ra_cmd_ret">ra_node_proc:ra_cmd_ret()</a></tt></p>


<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#add_node-2">add_node/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#cast-2">cast/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#consistent_query-2">consistent_query/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#delete_cluster-1">delete_cluster/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#delete_cluster-2">delete_cluster/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#delete_node-1">delete_node/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#dirty_query-2">dirty_query/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#leave_and_terminate-1">leave_and_terminate/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#leave_and_terminate-2">leave_and_terminate/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#members-1">members/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#remove_node-2">remove_node/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#restart_node-1">restart_node/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#send-2">send/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#send-3">send/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#send_and_await_consensus-2">send_and_await_consensus/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#send_and_await_consensus-3">send_and_await_consensus/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#send_and_notify-3">send_and_notify/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#start-0">start/0</a></td><td>Starts the ra application.</td></tr>
<tr><td valign="top"><a href="#start_cluster-3">start_cluster/3</a></td><td>Starts a distributed ra cluster.</td></tr>
<tr><td valign="top"><a href="#start_local_cluster-3">start_local_cluster/3</a></td><td>Starts a ra cluster on the current erlang node.</td></tr>
<tr><td valign="top"><a href="#start_node-1">start_node/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#stop_node-1">stop_node/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#trigger_election-1">trigger_election/1</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="add_node-2">add_node/2</a></h3>
<div class="spec">
<p><tt>add_node(ServerRef::<a href="#type-ra_node_id">ra_node_id()</a>, NodeId::<a href="#type-ra_node_id">ra_node_id()</a>) -&gt; <a href="#type-ra_cmd_ret">ra_cmd_ret()</a></tt><br></p>
</div>

<h3 class="function"><a name="cast-2">cast/2</a></h3>
<div class="spec">
<p><tt>cast(Ref::<a href="#type-ra_node_id">ra_node_id()</a>, Data::term()) -&gt; ok</tt><br></p>
</div>

<h3 class="function"><a name="consistent_query-2">consistent_query/2</a></h3>
<div class="spec">
<p><tt>consistent_query(Node::<a href="#type-ra_node_id">ra_node_id()</a>, QueryFun::fun((term()) -&gt; term())) -&gt; {ok, {<a href="#type-ra_idxterm">ra_idxterm()</a>, term()}, <a href="#type-ra_node_id">ra_node_id()</a> | not_known}</tt><br></p>
</div>

<h3 class="function"><a name="delete_cluster-1">delete_cluster/1</a></h3>
<div class="spec">
<p><tt>delete_cluster(NodeIds::[<a href="#type-ra_node_id">ra_node_id()</a>]) -&gt; ok | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="delete_cluster-2">delete_cluster/2</a></h3>
<div class="spec">
<p><tt>delete_cluster(NodeIds::[<a href="#type-ra_node_id">ra_node_id()</a>], Timeout::timeout()) -&gt; {ok, Leader::<a href="#type-ra_node_id">ra_node_id()</a>} | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="delete_node-1">delete_node/1</a></h3>
<div class="spec">
<p><tt>delete_node(NodeId::<a href="#type-ra_node_id">ra_node_id()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="dirty_query-2">dirty_query/2</a></h3>
<div class="spec">
<p><tt>dirty_query(Node::<a href="#type-ra_node_id">ra_node_id()</a>, QueryFun::fun((term()) -&gt; term())) -&gt; {ok, {<a href="#type-ra_idxterm">ra_idxterm()</a>, term()}, <a href="#type-ra_node_id">ra_node_id()</a> | not_known}</tt><br></p>
</div>

<h3 class="function"><a name="leave_and_terminate-1">leave_and_terminate/1</a></h3>
<div class="spec">
<p><tt>leave_and_terminate(NodeId) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="leave_and_terminate-2">leave_and_terminate/2</a></h3>
<div class="spec">
<p><tt>leave_and_terminate(ServerRef::<a href="#type-ra_node_id">ra_node_id()</a>, NodeId::<a href="#type-ra_node_id">ra_node_id()</a>) -&gt; ok | timeout | {error, no_proc}</tt><br></p>
</div>

<h3 class="function"><a name="members-1">members/1</a></h3>
<div class="spec">
<p><tt>members(ServerRef::<a href="#type-ra_node_id">ra_node_id()</a>) -&gt; <a href="ra_node_proc.html#type-ra_leader_call_ret">ra_node_proc:ra_leader_call_ret</a>([<a href="#type-ra_node_id">ra_node_id()</a>])</tt><br></p>
</div>

<h3 class="function"><a name="remove_node-2">remove_node/2</a></h3>
<div class="spec">
<p><tt>remove_node(ServerRef::<a href="#type-ra_node_id">ra_node_id()</a>, NodeId::<a href="#type-ra_node_id">ra_node_id()</a>) -&gt; <a href="#type-ra_cmd_ret">ra_cmd_ret()</a></tt><br></p>
</div>

<h3 class="function"><a name="restart_node-1">restart_node/1</a></h3>
<div class="spec">
<p><tt>restart_node(NodeId::<a href="#type-ra_node_id">ra_node_id()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="send-2">send/2</a></h3>
<div class="spec">
<p><tt>send(Ref::<a href="#type-ra_node_id">ra_node_id()</a>, Data::term()) -&gt; <a href="#type-ra_cmd_ret">ra_cmd_ret()</a></tt><br></p>
</div>

<h3 class="function"><a name="send-3">send/3</a></h3>
<div class="spec">
<p><tt>send(Ref::<a href="#type-ra_node_id">ra_node_id()</a>, Data::term(), Timeout::timeout()) -&gt; <a href="#type-ra_cmd_ret">ra_cmd_ret()</a></tt><br></p>
</div>

<h3 class="function"><a name="send_and_await_consensus-2">send_and_await_consensus/2</a></h3>
<div class="spec">
<p><tt>send_and_await_consensus(Ref::<a href="#type-ra_node_id">ra_node_id()</a>, Data::term()) -&gt; <a href="#type-ra_cmd_ret">ra_cmd_ret()</a></tt><br></p>
</div>

<h3 class="function"><a name="send_and_await_consensus-3">send_and_await_consensus/3</a></h3>
<div class="spec">
<p><tt>send_and_await_consensus(Ref::<a href="#type-ra_node_id">ra_node_id()</a>, Data::term(), Timeout::timeout()) -&gt; <a href="#type-ra_cmd_ret">ra_cmd_ret()</a></tt><br></p>
</div>

<h3 class="function"><a name="send_and_notify-3">send_and_notify/3</a></h3>
<div class="spec">
<p><tt>send_and_notify(Ref::<a href="#type-ra_node_id">ra_node_id()</a>, Data::term(), Correlation::term()) -&gt; ok</tt><br></p>
</div>

<h3 class="function"><a name="start-0">start/0</a></h3>
<div class="spec">
<p><tt>start() -&gt; ok</tt><br></p>
</div><p>Starts the ra application</p>

<h3 class="function"><a name="start_cluster-3">start_cluster/3</a></h3>
<div class="spec">
<p><tt>start_cluster(ClusterId::<a href="#type-ra_cluster_id">ra_cluster_id()</a>, Machine::<a href="ra_machine.html#type-machine">ra_machine:machine()</a>, NodeIds::[<a href="#type-ra_node_id">ra_node_id()</a>]) -&gt; {ok, [<a href="#type-ra_node_id">ra_node_id()</a>], [<a href="#type-ra_node_id">ra_node_id()</a>]} | {error, cluster_not_formed}</tt><br></p>
<p><tt>ClusterId</tt>: the cluster id of the cluster.<br>
<tt>Machine</tt>: The <a href="ra_machine.html#machine-0"><code>ra_machine:machine/0</code></a> configuration.<br>
<tt>NodeIds</tt>: The list of ra node ids.<br>
</p>
<p>returns: <p>
  <code>{ok, Started, NotStarted}</code>  if a cluster could be successfully
  started. A cluster can be successfully started if more than half of the
  nodes provided could be started. Nodes that could not be started need to
  be retried periodically using <a href="#start_node-1"><code>start_node/1</code></a></p>
 
  <p><code>{error, cluster_not_formed}</code> if a cluster could not be started.</p>
 
  If a cluster could not be formed any nodes that did manage to start are
  forcefully deleted.</p>
</div><p><p>Starts a distributed ra cluster.</p>
 
 </p>

<h3 class="function"><a name="start_local_cluster-3">start_local_cluster/3</a></h3>
<div class="spec">
<p><tt>start_local_cluster(Num::non_neg_integer(), Name::atom() | string(), Machine::<a href="ra_machine.html#type-machine">ra_machine:machine()</a>) -&gt; [<a href="#type-ra_node_id">ra_node_id()</a>]</tt><br></p>
<p><tt>Num</tt>: the number of nodes in the cluster<br>
<tt>Name</tt>: The name of the cluster<br>
<tt>Machine</tt>: The <a href="ra_machine.html#machine-0"><code>ra_machine:machine/0</code></a> configuration.<br>
</p>
<p>returns: <code>[ra_node_id()]</code> after a leader has been elected</p>
</div><p>Starts a ra cluster on the current erlang node.
  Useful for testing and exploration. Use <a href="#start_cluster-3"><code>start_cluster/3</code></a> for
  real use.
 </p>

<h3 class="function"><a name="start_node-1">start_node/1</a></h3>
<div class="spec">
<p><tt>start_node(Conf::<a href="ra_node.html#type-ra_node_config">ra_node:ra_node_config()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="stop_node-1">stop_node/1</a></h3>
<div class="spec">
<p><tt>stop_node(NodeId::<a href="#type-ra_node_id">ra_node_id()</a>) -&gt; ok | {error, nodedown}</tt><br></p>
</div>

<h3 class="function"><a name="trigger_election-1">trigger_election/1</a></h3>
<div class="spec">
<p><tt>trigger_election(Id::<a href="#type-ra_node_id">ra_node_id()</a>) -&gt; ok</tt><br></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc</i></p>
</body>
</html>
